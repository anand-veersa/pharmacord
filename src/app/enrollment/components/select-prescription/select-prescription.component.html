<div class="enroll-form panel-cont">
  <div class="panel-big">
    <div class="primary-title flex toggle-panel">Clinical Information</div>
    <div class="error-or-required tm-1">* Required field</div>
    <div>
      <form [formGroup]="clinicalInfoForm">
        <div
          *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
          class="form-group">
          <label
            >Patient First Name<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="patientFirstName"
            class="form-control"
            placeholder="Enter your First name" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
          class="form-group">
          <label
            >Patient Last Name<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="patientLastName"
            class="form-control"
            placeholder="Enter your Last Name " />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
          class="form-group">
          <label
            >Date of Birth<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="date"
            formControlName="patientDateOfBirth"
            class="form-control"
            placeholder="mm/dd/yyyy" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Treatment Start Date<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="date"
            formControlName="treatmentStartDate"
            class="form-control"
            placeholder="mm/dd/yyyy" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Primary Diagnosis<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="primaryDiagnosis"
            class="form-control"
            placeholder="Enter your Primary Diagnosis" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Primary Diagnosis ICD-10 Code<span
              *ngIf="true"
              class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="primaryDiagnosisICD10Code"
            class="form-control"
            placeholder="Enter your Primary Diagnosis ICD-10 Code" />
        </div>
        <div *ngIf="['Jemperli'].includes(medicine)" class="form-group">
          <label
            >Diagnosis ICD-10 Code<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <div class="form-radio-group -group">
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="diagnosisICD10Code"
                class="form-radio-input"
                value="C54.1-Malignant neoplasm of endometrium" />
              <label class="form-radio-label"
                >C54.1-Malignant neoplasm of endometriume</label
              >
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="diagnosisICD10Code"
                class="form-radio-input"
                value="Other" />
              <label class="form-radio-label">Other</label>
            </div>
          </div>
        </div>
        <div *ngIf="['Jemperli'].includes(medicine)" class="form-group">
          <label
            >Other ICD Code<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="otherICD10Code"
            class="form-control"
            placeholder="" />
        </div>
        <div *ngIf="['Jemperli'].includes(medicine)" class="form-group">
          <label
            >Mismatch repair status (MMR)<span
              *ngIf="true"
              class="error-or-required"
              >*</span
            ></label
          >
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: clinicalInfoForm,
                    formArrName: 'mismatchrepairstatusMMR'
                  })
                "
                class="form-check-input"
                value="Mismatch repair deficient (dMMR)" />
              <div>
                <label class="form-check-label"
                  >Mismatch repair deficient (dMMR)
                </label>
              </div>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: clinicalInfoForm,
                    formArrName: 'mismatchrepairstatusMMR'
                  })
                "
                class="form-check-input"
                value="Mismatch repair proficient (MMRp)" />
              <div>
                <label class="form-check-label"
                  >Mismatch repair proficient (MMRp)
                </label>
              </div>
            </div>
          </div>
        </div>
        <div *ngIf="['Jemperli'].includes(medicine)" class="form-group">
          <label
            >Endometrial cancer prior therapies
            <span *ngIf="true" class="error-or-required">*</span></label
          >
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: clinicalInfoForm,
                    formArrName: 'endometrialCancerPriortherapies'
                  })
                "
                class="form-check-input"
                value="Treatment with platinum containing regimen" />
              <div>
                <label class="form-check-label"
                  >Treatment with platinum containing regimen
                </label>
              </div>
            </div>
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: clinicalInfoForm,
                    formArrName: 'endometrialCancerPriortherapies'
                  })
                "
                class="form-check-input"
                value="Other" />
              <div><label class="form-check-label">Other </label></div>
            </div>
          </div>
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Secondary Diagnosis<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="secondaryDiagnosis"
            class="form-control"
            placeholder="Enter your Secondary Diagnosis" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Secondary Diagnosis ICD-10 Code<span
              *ngIf="false"
              class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="secondaryDiagnosisICD10Code"
            class="form-control"
            placeholder="Enter your Secondary Diagnosis ICD-10 Code" />
        </div>
      </form>
    </div>
    <div
      *ngIf="
        ['Zejula', 'Ojjaara'].includes(
          submitEnrolService.enrollmentFormPayload.DrugGroup
        )
      "
      class="primary-title flex toggle-panel tm-1 bm-1">
      Current Line Of Therapy
    </div>
    <div>
      <form [formGroup]="currentLineOfTherapyForm">
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group row-radio">
          <div class="form-radio-group row-radio-group">
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="currentLineOfTherapy"
                class="form-radio-input"
                value="1st line" />
              <label class="form-radio-label">1st line</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="currentLineOfTherapy"
                class="form-radio-input"
                value="2nd line" />
              <label class="form-radio-label">2nd line</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="currentLineOfTherapy"
                class="form-radio-input"
                value="3rd line" />
              <label class="form-radio-label">3rd line</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="currentLineOfTherapy"
                class="form-radio-input"
                value="4th line" />
              <label class="form-radio-label">4th line</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="currentLineOfTherapy"
                class="form-radio-input"
                value="4th line+" />
              <label class="form-radio-label">4th line+</label>
            </div>
          </div>
        </div>
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group row-radio">
          <label
            >BRCA Test<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <div class="form-radio-group row-radio-group">
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="bRCATest"
                class="form-radio-input"
                value="Positive" />
              <label class="form-radio-label">Positive</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="bRCATest"
                class="form-radio-input"
                value="Negative" />
              <label class="form-radio-label">Negative</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="bRCATest"
                class="form-radio-input"
                value="Results Pending" />
              <label class="form-radio-label">Results Pending</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="bRCATest"
                class="form-radio-input"
                value="No Test" />
              <label class="form-radio-label">No Test</label>
            </div>
          </div>
        </div>
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group row-radio">
          <label
            >HRD Test<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <div class="form-radio-group row-radio-group">
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="hRDTest"
                class="form-radio-input"
                value="Positive" />
              <label class="form-radio-label">Positive</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="hRDTest"
                class="form-radio-input"
                value="Negative" />
              <label class="form-radio-label">Negative</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="hRDTest"
                class="form-radio-input"
                value="Results Pending" />
              <label class="form-radio-label">Results Pending</label>
            </div>
            <div
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-radio">
              <input
                type="radio"
                formControlName="hRDTest"
                class="form-radio-input"
                value="No Test" />
              <label class="form-radio-label">No Test</label>
            </div>
          </div>
        </div>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <label
            >Previous Therapies<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="previousTherapies"
            class="form-control"
            placeholder="Enter your Previous Therapies " />
        </div>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <label
            >Latest Hemoglobin (g/dL)<span
              *ngIf="false"
              class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="latestHemoglobin"
            class="form-control"
            placeholder="Enter your Latest Hemoglobin " />
        </div>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <label
            >Date of Last Transfusion<span
              *ngIf="false"
              class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="date"
            formControlName="dateOfLastTransfusion"
            class="form-control"
            placeholder="" />
        </div>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Known Drug Allergies<span *ngIf="false" class="error-or-required"
              >*</span
            ></label
          >
          <input
            type="text"
            formControlName="knownDrugAllergies"
            class="form-control"
            placeholder="Enter your Known Drug Allergies" />
        </div>
        <label><span *ngIf="false" class="error-or-required">*</span></label>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Notes<span *ngIf="false" class="error-or-required">*</span></label
          >
          <textarea
            formControlName="notes"
            class="form-control"
            placeholder="Enter your Notes">
          </textarea>
        </div>
      </form>
    </div>

    <!-- <div>
        <div
          *ngFor="
            let control of submitEnrolService.currentLineOfTherapyDetails.controls
          "
          [ngClass]="control.class ? control.class : 'tm-1'">
          <app-custom-form
            *ngIf="control.display"
            formType="sg pres-form"
            [field]="control"
            [form]="
              submitEnrolService.currentLineOfTherapyForm
            "></app-custom-form>
        </div>
      </div> -->
  </div>

  <mat-divider vertical></mat-divider>

  <div class="panel-big">
    <!-- {{ this.clinicalInfoForm.value | json }}
    <mat-divider horizontal></mat-divider>
    {{ this.currentLineOfTherapyForm.value | json }}
    <mat-divider horizontal></mat-divider>
    {{this.prescriptionInfoForm.value | json}} -->
    <ng-container
      *ngIf="
        ['Zejula', 'Ojjaara'].includes(
          submitEnrolService.enrollmentFormPayload.DrugGroup
        )
      ">
      <div class="primary-title flex toggle-panel">
        Prescription Information
      </div>
      <div class="error-or-required tm-1">
        * Atleast one medication is required
      </div>
    </ng-container>
    <div>
      <form [formGroup]="prescriptionInfoForm">
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'zejStd'
                  })
                "
                class="form-check-input"
                value="zejStd" />
              <div>
                <label class="form-check-label large-bold"
                  >ZEJULA: Standard Prescription
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Zejula'].includes(medicine) &&
            prescriptionInfoForm?.get('zejStd')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'zejStdPres',
            qty: 15,
            refills: 14
          }"></app-custom-prescription>
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'zejQSP'
                  })
                "
                class="form-check-input"
                value="zejQSP" />
              <div>
                <label class="form-check-label large-bold"
                  >ZEJULA: Quick Start Program
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
                <div class="subLabel">
                  For patients experiencing a delay in coverage at first
                  dispense
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Zejula'].includes(medicine) &&
            prescriptionInfoForm?.get('zejQSP')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'zejQSPPres',
            qty: undefined,
            refills: undefined
          }"></app-custom-prescription>
        <div *ngIf="['Zejula'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'zejBridge'
                  })
                "
                class="form-check-input"
                value="zejBridge" />
              <div>
                <label class="form-check-label large-bold"
                  >ZEJULA: Bridge Program
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
                <div class="subLabel">
                  For patients experiencing coverage interruptions while already
                  on treatment
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Zejula'].includes(medicine) &&
            prescriptionInfoForm?.get('zejBridge')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'zejBridgePres',
            qty: 15,
            refills: 14
          }"></app-custom-prescription>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'ojjaaraStd'
                  })
                "
                class="form-check-input"
                value="ojjaaraStd" />
              <div>
                <label class="form-check-label large-bold"
                  >OJJAARA: Standard Prescription
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Ojjaara'].includes(medicine) &&
            prescriptionInfoForm?.get('ojjaaraStd')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'ojjaaraStdPres',
            qty: undefined,
            refills: undefined
          }"></app-custom-prescription>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'ojjaaraQSP'
                  })
                "
                class="form-check-input"
                value="ojjaaraQSP" />
              <div>
                <label class="form-check-label large-bold"
                  >OJJAARA: Quick Start Program
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
                <div class="subLabel">
                  For patients experiencing a delay in coverage at first
                  dispense
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Ojjaara'].includes(medicine) &&
            prescriptionInfoForm?.get('ojjaaraQSP')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'ojjaaraQSPPres',
            qty: 15,
            refills: 14
          }"></app-custom-prescription>
        <div *ngIf="['Ojjaara'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'ojjaaraBridge'
                  })
                "
                class="form-check-input"
                value="ojjaaraBridge" />
              <div>
                <label class="form-check-label large-bold"
                  >OJJAARA: Bridge Program
                  <span *ngIf="false" class="error-or-required">*</span></label
                >
                <div class="subLabel">
                  For patients experiencing coverage interruptions while already
                  on treatment
                </div>
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Ojjaara'].includes(medicine) &&
            prescriptionInfoForm?.get('ojjaaraBridge')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'ojjaaraBridgePres',
            qty: 15,
            refills: 14
          }"></app-custom-prescription>
        <div *ngIf="['Jemperli'].includes(medicine)" class="form-group">
          <div class="form-checkbox-group">
            <div class="form-check">
              <input
                type="checkbox"
                (change)="
                  onCheckChange({
                    ev: $event,
                    form: prescriptionInfoForm,
                    formArrName: 'jemperliIV'
                  })
                "
                class="form-check-input"
                value="JemperliIV" />
              <div>
                <label class="form-check-label large-bold"
                  >JEMPERLI IV
                  <span *ngIf="true" class="error-or-required">*</span></label
                >
              </div>
            </div>
          </div>
        </div>
        <app-custom-prescription
          *ngIf="
            ['Jemperli'].includes(medicine) &&
            prescriptionInfoForm?.get('jemperliIV')?.value?.length! > 0
          "
          [form]="prescriptionInfoForm"
          [field]="{
            name: 'jemperliIVPres',
            qty: 15,
            refills: 14
          }"></app-custom-prescription>
        <div
          *ngIf="['Zejula', 'Ojjaara'].includes(medicine)"
          class="form-group">
          <label
            >Prescription Signature<span *ngIf="true" class="error-or-required"
              >*</span
            ></label
          >
          <select formControlName="prescriptionSignature">
            <option
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-check"
              value="">
              Select Prescription Signature
            </option>
            <option
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-check"
              value="Dispense as written">
              Dispense as written
            </option>
            <option
              *ngIf="['Zejula', 'Ojjaara', 'Jemperli'].includes(medicine)"
              class="form-check"
              value="Substitute Permitted">
              Substitute Permitted
            </option>
          </select>
        </div>
      </form>
    </div>
    <div>
      <div
        *ngIf="
          ['Zejula', 'Ojjaara'].includes(
            submitEnrolService.enrollmentFormPayload.DrugGroup
          )
        "
        class="bg enrollment-form">
        <div class="note-text tm-2">
          <strong>Note: </strong> Signature will be obtained during the next
          step.
        </div>
      </div>
    </div>
  </div>
</div>

<div class="action-panel">
  <app-custom-button
    btnClass="small secondary"
    btnText="&#60; Back"
    (action)="onAction('back')"></app-custom-button>
  <app-custom-button
    btnClass="small tertiary"
    btnText="Next &#62;"
    (action)="onAction('next')"></app-custom-button>
</div>
